## Сбор и предобработка данных <br><br>

### Список файлов:<br>

[Парсинг данных с Flamp](flamp.ipynb) <br>
[Загрузка датасета с Яндекс карт](data_yandex.ipynb) <br>
[Добавление координат через Яндекс API](address_Sdk.ipynb)<br>

### Ход работы:

1. **Парсинг отзывов с сайта flamp.ru** <br>
   На первом этапе мы собрали около 23 тысяч отзывов с популярного сайта отзывов — flamp.ru. Для этого использовался парсинг с помощью requests, чтобы получить как текстовые данные отзывов, так и метаданные (оценки, даты, категории и т.д.).
2. **Поиск дополнительных данных** <br>
   Для улучшения качества и объема данных, а также получения более разнообразных отзывов, было решено использовать дополнительные источники. В данном случае мы использовали датасет с Яндекс.Карт, который добавил еще около 25 тысяч отзывов.
3. **Очистка и дополнительные преобразования** <br>
   На данном этапе была проведена очистка и подготовка данных для добавления в БД. Включая:
   - Добавление недостающих координат через Yandex API
   - Удаление шума: фильтрация пустых отзывов, а также отзывов, содержащих только неконкретные фразы.
   - Нормализация: приведение текста к нижнему регистру, удаление лишних пробелов и символов.
   - Удаление дубликатов.

4. **Объединение датасетов** <br>
   После того как оба источника данных были обработаны и очищены, следующим шагом стало их объединение. В результате мы получили 47,769 отзывов для добавления в Chroma DB и дальнейшей обработки с использованием моделей для векторизации.

### Невошедшее в MVP<br>
- Было подготовлено минимум 8 датасетов:
  - Объединенный датасет от Flamp и Яндекса.
  - [Использование только ключевых слов](feature_extraction.ipynb)
  - [Различные вариации отзывов с разной обработкой](reviews_cleaning.ipynb):
    - нижний регистр и удаление лишних символов, пунктуации
    - лемматизация
    - удаление стоп слов
    - варианты с удаление глаголов и прилагательных
- Во время работы было использовано, как минимум 12 разных моделей на разных датасетах. [Полный список](https://github.com/miptds2024/team-8/blob/main/database/chroma.ipynb), среди которых:
  - multilingual-e5-large
  - cross-encoder-russian-msmarco
  - all-MiniLM-L6-v2
  - rubert-base-cased-sentence
  - bertDistil
  - Mistral-7B-Instruct
- Максимальная нагрузка в Google Colab достигала одновременно
  - System RAM: 35 GB
  - GPU RAM: 40 GB
